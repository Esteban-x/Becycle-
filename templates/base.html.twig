<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Becycle.com{% endblock %}</title>

        <link href="https://fonts.googleapis.com/css?family=Amatic+SC|Comfortaa|Ubuntu" rel="stylesheet">
        
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <link rel="stylesheet" href="{{ asset('assets/css/app.css') }}">
        <link href="{{ asset('assets/css/typeahead.css') }}" rel="stylesheet">
        {% block stylesheets %}{% endblock %}
    </head>
    <body>
    {{  include('_navbar.html.twig') }}

        <div class="container my-5">
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="mt-4 alert alert-{{ label }} alert-dismissible fade show">
                        {{ message }}

                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}
            {% endfor %}

                 {# {% block body %} {% endblock %}#}
            {% block flash %}
                {% for flash_message in app.session.flashbag.get('success') %}
                    <div class="container alert alert-success" role="alert">
                        {{ flash_message }}
                    </div>
                {% endfor %}
                {% for flash_message in app.session.flashbag.get('info') %}
                    <div class="container alert alert-info" role="alert">
                        {{ flash_message }}
                    </div>
                {% endfor %}
                {% for flash_message in app.session.flashbag.get('warning') %}
                    <div class="container alert alert-warning" role="alert">
                        {{ flash_message }}
                    </div>
                {% endfor %}
                {% for flash_message in app.session.flashbag.get('danger') %}
                    <div class="container alert alert-danger" role="alert">
                        {{ flash_message }}
                    </div>
                {% endfor %}
            {% endblock %}

            <div class="container bck1 padded">
                {% block body %}
                {% endblock %}
            </div>

        </div>

        <footer class="py-5 bg-dark">
            <div class="container">
                <p class="text-white text-center m-0">Copyright &copy; {{ 'now' | date('Y') }}</p>
            </div>       
        </footer>
        <button onclick="topFunction()" id="myBtn" title="Go to top">Haut de page </button> 

        <script src="{{asset('assets/js/base.js')}}"></script>
        {% block javascript %}
<script>
                $('#form_query').typeahead({
                    hint: true
                },
                {
                    name: 'bikes',
                    source: bikes.ttAdapter(),
                    display: 'bike_name',
                    templates: {
                        suggestion: function (data){

                        return `
                            <a href="/bike/{id}">
                            <span>`+bikes.bike_name+`</span></a>
                            `
                                  
                    },
                    footer: function (query)
                    {
                        return '<div class="text-center">Plus d\'info sur le: '+query.query+'</div>' 
                    }

                }
            })   
             
       </script> 
        {% endblock %}
    </body>
</html>
            